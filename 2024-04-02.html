<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //공장 함수
        function createMonster1(name1,hp1){
            return {name1,hp1}
        }
        const mon1 = createMonster1('aaa',100);
        const mon2 = createMonster1('bbb',100);
        console.log(mon1.name1)

        //this 사용
        function Monster(name2,hp2){
            this.name2 = name2;
            this.hp2 = hp2;
        }
        const mon3 = new Monster('ccc',200);
        console.log(mon3.name2);

        function createMonster2(name3,hp3,att3){
            return{name3,hp3,att3,attack(monster){
                monster.hp -= this.att3;
            }, 
        }
        }
        const mon4 = createMonster2('슬라임',25,10);
        const mon5 = createMonster2('돼지',50,20);
        console.log(mon4);
        console.log(mon5);

        //프로토타입
        function Monster2(name3,hp3,att3){
            this.name3=name3;
            this.hp3=hp3;
            this.att3=att3;
        }
        Monster2.prototype.attack = function(monster){
            monster.hp3 = this.att3;
        }
        const mon6 = new Monster2('aaa',10,10);
        const mon7 = new Monster2('bbb',20,20);
        console.log(mon6.attack === mon7.attack);

        //this, DOM < Window  윈도우 객체
        function a(){
            console.log(this);
        }
        a();

        //클래스 만들기1
        class Monster3{
            constructor(name,hp,att){
                this.name=name;
                this.hp=hp;
                this.att=att;
            }
            attack(monster){
                monster.hp-= this.att;
            }
        }
        const m1 = new Monster3('aaa',10,20);
        console.log(m1);

        //클래스 만들기2
        class Hero{
            constructor(name,hp,att){
                this.name=name;
                this.hp=hp;
                this.att=att;
                this.maxHp=hp;
            }
            attack(monster){
                monster-=this.att;
            }
            heal(){
                this.hp=this.maxHp;
            }
        }

        //클래스 만들기3(상속)재사용,가독성
        class Unit{
            constructor(name,hp,att){
                this.name=name;
                this.hp=hp;
                this.att=att;
            }
            attack(target){
                target.hp -=this.att;
            }
        }

        //상속 받는 클래스 만들기
        class Hero2 extends Unit{
            constructor(name,hp,att){
                super(name,hp,att);
                this.maxHp=hp;
            }
            attack(target){
                super.attack(target);
                console.log("attack 추가 기능");
            }
            heal(){
                this.hp = maxHp;
            }
        }
        
    </script>
</body>
</html>